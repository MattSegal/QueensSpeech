doctype html
html(lang="en")
    head
        meta(charset="utf-8")
        meta(name = "viewport" content = "width=device-width,initial-scale=1") 
        link(rel="stylesheet", type='text/css', 
            href="{{url_for('static',filename='css/reset.css')}}")
        link(rel="stylesheet", type='text/css', 
            href="{{url_for('static',filename='css/style.css')}}")
        title Hear the Queen
        style.
            .pre-load-hero-image
            {
                background-image: url("{% include "blur_image.html" %}");
                z-index: -1;
            }

    body
        header
            h1 Hear the Queen
            nav
                a(href="#contact") Contact
        .hero-image
            .pre-load-hero-image
        .content
            h1 Today's Public Address
            p.
                 {{words}}

        .content(class="alternate")
            h1 About
            p
                | Above is some text generated by a neural network that is trained on a whole bunch of four word samples. The first three words are randomly picked from a vocabulary of 250 words, and then the network chooses each additional word from this vocabulary. The weakness of this model is that it only uses the last three words when predicting the next, so it leads to some rather long and unintelligble run-on sentences. This project was done as a part of 
                a(href="https://www.coursera.org/course/neuralnets") Neural Networks for Machine Learning

        footer(id="contact")
            // put one of those # tags in here so we can navigate to #contact
            h1 Contact
            p The Queen
            p elizabeth@england.uk
            p 0431 832 123

        script.
            // when bg image loaded, swap out full image
            window.onload = function loadSharpImages() 
            {
                // Quit early if older browser (e.g. IE 8).
                if (!('addEventListener' in window)) return
                var preLoadBackground = document.querySelector(".pre-load-hero-image")
                var backgroundSourceFile = "/static/img/queen.jpg"
                var backgroundImage = new Image();
                backgroundImage.src = backgroundSourceFile
                backgroundImage.onload = function() 
                {
                    function fadeOut(i) 
                    {
                        preLoadBackground.style.opacity = 1 - 0.01*i
                        if (i >= 100) return
                        setTimeout(function(){fadeOut(i+1)},1)
                    }
                    fadeOut(0)
                }
            };